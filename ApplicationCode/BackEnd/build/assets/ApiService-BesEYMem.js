import{b as i,c as d}from"./config-JwZ8C9zi.js";import{B as t}from"./ReactToastify-BKZpGq8X.js";const u=i.create({baseURL:d}),h={request:async(o,a,s=null,n={},c)=>{try{const r=localStorage.getItem("token"),e=await u({method:o,url:a,data:s,headers:{Authorization:`Bearer ${r}`,...n}});if(e.data.status===403){t.error("Forbidden: Redirecting to home"),c("/");return}return e.data}catch(r){throw console.error("Error in API request:",r),t.error("API request failed"),r}}};export{h as A};
