import{r as j,_ as L,R as f,b as v,c as U,P as u,j as a}from"./index-D5mK4_IJ.js";import{C as B,a as V,b as D,c as T}from"./config-JwZ8C9zi.js";import{C as $,Q as A,B as x}from"./ReactToastify-BKZpGq8X.js";import{C,a as c}from"./CRow-DEPKtvaT.js";import{C as H}from"./CForm-BSXfomq1.js";import{a as E,b as d,C as m}from"./CFormInput-9CW0Vo_b.js";import{a as Q}from"./index.es-BSy7osIh.js";import"./CFormFeedback-CLOsMfCj.js";var g=j.forwardRef(function(e,t){var r,n=e.children,l=e.className,p=e.feedback,i=e.feedbackInvalid,o=e.feedbackValid,b=e.floatingClassName,h=e.floatingLabel,P=e.htmlSize,w=e.id,y=e.invalid,z=e.label,k=e.options,N=e.size,I=e.text,R=e.tooltipFeedback,F=e.valid,S=L(e,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","htmlSize","id","invalid","label","options","size","text","tooltipFeedback","valid"]);return f.createElement(E,{describedby:S["aria-describedby"],feedback:p,feedbackInvalid:i,feedbackValid:o,floatingClassName:b,floatingLabel:h,id:w,invalid:y,label:z,text:I,tooltipFeedback:R,valid:F},f.createElement("select",v({id:w,className:U("form-select",(r={},r["form-select-".concat(N)]=N,r["is-invalid"]=y,r["is-valid"]=F,r),l),size:P},S,{ref:t}),k?k.map(function(s,q){return f.createElement("option",v({},typeof s=="object"&&s.disabled&&{disabled:s.disabled},typeof s=="object"&&s.value!==void 0&&{value:s.value},{key:q}),typeof s=="string"?s:s.label)}):n))});g.propTypes=v({className:u.string,htmlSize:u.number,options:u.array},E.propTypes);g.displayName="CFormSelect";const Z=()=>{const[e,t]=j.useState({name:"",mobile:"",email:"",password:"",confirmPassword:"",age:"",role:"",address:""}),[r,n]=j.useState(""),l=i=>{const{id:o,value:b}=i.target;t(h=>({...h,[o]:b}))},p=async i=>{if(i.preventDefault(),e.password!==e.confirmPassword){n("Passwords do not match");return}try{(await D.post(`${T}/users`,{name:e.name,email:e.email,password:e.password,age:e.age,mobile:e.mobile,role:e.role,address:e.address},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).status===201?(n(""),x.success("User created successfully"),t({name:"",mobile:"",email:"",password:"",confirmPassword:"",age:"",role:"",address:""})):x.error("Failed to create user")}catch(o){console.error("Error creating user:",o),x.error("Failed to create user")}};return a.jsxs(C,{children:[a.jsx(c,{xs:12,children:a.jsxs(B,{className:"mb-4",children:[a.jsx($,{children:a.jsx("strong",{children:"User Information"})}),a.jsx(V,{children:a.jsxs(H,{onSubmit:p,children:[r&&a.jsx("p",{className:"text-danger",children:r}),a.jsx(C,{className:"mb-3",children:a.jsxs(c,{md:6,children:[a.jsx(d,{htmlFor:"name",children:"Name"}),a.jsx(m,{type:"text",id:"name",placeholder:"Enter name",required:!0,value:e.name,onChange:l})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx(d,{htmlFor:"email",children:"Email"}),a.jsx(m,{type:"email",id:"email",placeholder:"Enter email",required:!0,value:e.email,onChange:l})]}),a.jsxs(C,{className:"mb-3",children:[a.jsxs(c,{md:6,children:[a.jsx(d,{htmlFor:"password",children:"Password"}),a.jsx(m,{type:"password",id:"password",placeholder:"Enter password",required:!0,value:e.password,onChange:l})]}),a.jsxs(c,{md:6,children:[a.jsx(d,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx(m,{type:"password",id:"confirmPassword",placeholder:"Confirm password",required:!0,value:e.confirmPassword,onChange:l})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(d,{htmlFor:"role",children:"Role"}),a.jsxs(g,{id:"role",required:!0,value:e.role,onChange:l,children:[a.jsx("option",{value:"",children:"Choose..."}),a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"supervisor",children:"Supervisor"})]})]}),a.jsx(Q,{type:"submit",color:"primary",children:"Submit"})]})})]})}),a.jsx(A,{})]})};export{Z as default};
