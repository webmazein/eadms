import{r as j,_ as L,R as h,b as v,c as U,P as u,j as a}from"./index-BcrzLcxJ.js";import{a as B}from"./axios-B4uVmeYG.js";import{Q as V,B as x}from"./ReactToastify-aldJD7FO.js";import{C as D,a as T,b as $}from"./config-Di7nhv2Z.js";import{C,a as c}from"./CRow-Dr24BDUp.js";import{C as A}from"./CCardHeader-5_TrpCzu.js";import{C as H}from"./CForm-C_p3PIIB.js";import{a as E,b as d,C as m}from"./CFormInput-i_MzTwqo.js";import{a as Q}from"./index.es-94ylKB-E.js";import"./CFormFeedback-rz0OKlJN.js";var g=j.forwardRef(function(e,t){var s,n=e.children,l=e.className,p=e.feedback,i=e.feedbackInvalid,o=e.feedbackValid,f=e.floatingClassName,b=e.floatingLabel,P=e.htmlSize,w=e.id,y=e.invalid,z=e.label,k=e.options,N=e.size,I=e.text,R=e.tooltipFeedback,F=e.valid,S=L(e,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","htmlSize","id","invalid","label","options","size","text","tooltipFeedback","valid"]);return h.createElement(E,{describedby:S["aria-describedby"],feedback:p,feedbackInvalid:i,feedbackValid:o,floatingClassName:f,floatingLabel:b,id:w,invalid:y,label:z,text:I,tooltipFeedback:R,valid:F},h.createElement("select",v({id:w,className:U("form-select",(s={},s["form-select-".concat(N)]=N,s["is-invalid"]=y,s["is-valid"]=F,s),l),size:P},S,{ref:t}),k?k.map(function(r,q){return h.createElement("option",v({},typeof r=="object"&&r.disabled&&{disabled:r.disabled},typeof r=="object"&&r.value!==void 0&&{value:r.value},{key:q}),typeof r=="string"?r:r.label)}):n))});g.propTypes=v({className:u.string,htmlSize:u.number,options:u.array},E.propTypes);g.displayName="CFormSelect";const ee=()=>{const[e,t]=j.useState({name:"",mobile:"",email:"",password:"",confirmPassword:"",age:"",role:"",address:""}),[s,n]=j.useState(""),l=i=>{const{id:o,value:f}=i.target;t(b=>({...b,[o]:f}))},p=async i=>{if(i.preventDefault(),e.password!==e.confirmPassword){n("Passwords do not match");return}try{(await B.post(`${$}/users`,{name:e.name,email:e.email,password:e.password,age:e.age,mobile:e.mobile,role:e.role,address:e.address},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).status===201?(n(""),x.success("User created successfully"),t({name:"",mobile:"",email:"",password:"",confirmPassword:"",age:"",role:"",address:""})):x.error("Failed to create user")}catch(o){console.error("Error creating user:",o),x.error("Failed to create user")}};return a.jsxs(C,{children:[a.jsx(c,{xs:12,children:a.jsxs(D,{className:"mb-4",children:[a.jsx(A,{children:a.jsx("strong",{children:"User Information"})}),a.jsx(T,{children:a.jsxs(H,{onSubmit:p,children:[s&&a.jsx("p",{className:"text-danger",children:s}),a.jsx(C,{className:"mb-3",children:a.jsxs(c,{md:6,children:[a.jsx(d,{htmlFor:"name",children:"Name"}),a.jsx(m,{type:"text",id:"name",placeholder:"Enter name",required:!0,value:e.name,onChange:l})]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx(d,{htmlFor:"email",children:"Email"}),a.jsx(m,{type:"email",id:"email",placeholder:"Enter email",required:!0,value:e.email,onChange:l})]}),a.jsxs(C,{className:"mb-3",children:[a.jsxs(c,{md:6,children:[a.jsx(d,{htmlFor:"password",children:"Password"}),a.jsx(m,{type:"password",id:"password",placeholder:"Enter password",required:!0,value:e.password,onChange:l})]}),a.jsxs(c,{md:6,children:[a.jsx(d,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsx(m,{type:"password",id:"confirmPassword",placeholder:"Confirm password",required:!0,value:e.confirmPassword,onChange:l})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(d,{htmlFor:"role",children:"Role"}),a.jsxs(g,{id:"role",required:!0,value:e.role,onChange:l,children:[a.jsx("option",{value:"",children:"Choose..."}),a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"supervisor",children:"Supervisor"})]})]}),a.jsx(Q,{type:"submit",color:"primary",children:"Submit"})]})})]})}),a.jsx(V,{})]})};export{ee as default};
