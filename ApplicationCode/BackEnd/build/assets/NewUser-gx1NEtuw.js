import{r as j,_ as L,R as h,b as v,c as U,P as u,j as r}from"./index-ZgVUef1k.js";import{a as B}from"./axios-B4uVmeYG.js";import{Q as V,B as x}from"./ReactToastify-Do9dcxrB.js";import{b as D}from"./config-6WvNVX-n.js";import{C}from"./CRow-BS3o19tv.js";import{C as m}from"./CCol-DppGgiLO.js";import{C as T,a as $}from"./CCardBody-DwN--fND.js";import{C as A}from"./CCardHeader-SMqdVQiw.js";import{C as H}from"./CForm-CJBgKtX1.js";import{a as E,b as d,C as c}from"./CFormInput-5OO6EBiD.js";import{a as Q}from"./index.es-BuwcMwCe.js";import"./CFormFeedback-9EUF2-zk.js";var g=j.forwardRef(function(e,t){var s,n=e.children,l=e.className,p=e.feedback,i=e.feedbackInvalid,o=e.feedbackValid,f=e.floatingClassName,b=e.floatingLabel,P=e.htmlSize,w=e.id,y=e.invalid,z=e.label,k=e.options,N=e.size,I=e.text,R=e.tooltipFeedback,F=e.valid,S=L(e,["children","className","feedback","feedbackInvalid","feedbackValid","floatingClassName","floatingLabel","htmlSize","id","invalid","label","options","size","text","tooltipFeedback","valid"]);return h.createElement(E,{describedby:S["aria-describedby"],feedback:p,feedbackInvalid:i,feedbackValid:o,floatingClassName:f,floatingLabel:b,id:w,invalid:y,label:z,text:I,tooltipFeedback:R,valid:F},h.createElement("select",v({id:w,className:U("form-select",(s={},s["form-select-".concat(N)]=N,s["is-invalid"]=y,s["is-valid"]=F,s),l),size:P},S,{ref:t}),k?k.map(function(a,q){return h.createElement("option",v({},typeof a=="object"&&a.disabled&&{disabled:a.disabled},typeof a=="object"&&a.value!==void 0&&{value:a.value},{key:q}),typeof a=="string"?a:a.label)}):n))});g.propTypes=v({className:u.string,htmlSize:u.number,options:u.array},E.propTypes);g.displayName="CFormSelect";const ae=()=>{const[e,t]=j.useState({name:"",mobile:"",email:"",password:"",confirmPassword:"",age:"",role:"",address:""}),[s,n]=j.useState(""),l=i=>{const{id:o,value:f}=i.target;t(b=>({...b,[o]:f}))},p=async i=>{if(i.preventDefault(),e.password!==e.confirmPassword){n("Passwords do not match");return}try{(await B.post(`${D}/users`,{name:e.name,email:e.email,password:e.password,age:e.age,mobile:e.mobile,role:e.role,address:e.address},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).status===201?(n(""),x.success("User created successfully"),t({name:"",mobile:"",email:"",password:"",confirmPassword:"",age:"",role:"",address:""})):x.error("Failed to create user")}catch(o){console.error("Error creating user:",o),x.error("Failed to create user")}};return r.jsxs(C,{children:[r.jsx(m,{xs:12,children:r.jsxs(T,{className:"mb-4",children:[r.jsx(A,{children:r.jsx("strong",{children:"User Information"})}),r.jsx($,{children:r.jsxs(H,{onSubmit:p,children:[s&&r.jsx("p",{className:"text-danger",children:s}),r.jsx(C,{className:"mb-3",children:r.jsxs(m,{md:6,children:[r.jsx(d,{htmlFor:"name",children:"Name"}),r.jsx(c,{type:"text",id:"name",placeholder:"Enter name",required:!0,value:e.name,onChange:l})]})}),r.jsxs("div",{className:"mb-3",children:[r.jsx(d,{htmlFor:"email",children:"Email"}),r.jsx(c,{type:"email",id:"email",placeholder:"Enter email",required:!0,value:e.email,onChange:l})]}),r.jsxs(C,{className:"mb-3",children:[r.jsxs(m,{md:6,children:[r.jsx(d,{htmlFor:"password",children:"Password"}),r.jsx(c,{type:"password",id:"password",placeholder:"Enter password",required:!0,value:e.password,onChange:l})]}),r.jsxs(m,{md:6,children:[r.jsx(d,{htmlFor:"confirmPassword",children:"Confirm Password"}),r.jsx(c,{type:"password",id:"confirmPassword",placeholder:"Confirm password",required:!0,value:e.confirmPassword,onChange:l})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx(d,{htmlFor:"role",children:"Role"}),r.jsxs(g,{id:"role",required:!0,value:e.role,onChange:l,children:[r.jsx("option",{value:"",children:"Choose..."}),r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"supervisor",children:"Supervisor"})]})]}),r.jsx(Q,{type:"submit",color:"primary",children:"Submit"})]})})]})}),r.jsx(V,{})]})};export{ae as default};
